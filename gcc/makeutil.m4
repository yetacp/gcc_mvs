//HERC01A  JOB CLASS=C,REGION=0K
//*
//* Compile some useful utilities
//* Change the last step to copy into a load library
//* you have (or else delete it).
//* You may need to change ASMA90 to IEV90 or ASMBLR or
//* IFOX00 or something else if your site doesn't have ASMA90.
//*
//* These utilities come from GCCMVS
//*
//PDPASM   PROC MEMBER=''
//ASM      EXEC PGM=ASMA90,
//   PARM='DECK,NOLIST'
//SYSLIB   DD DSN=SYS1.MACLIB,DISP=SHR
//         DD DSN=&&MACLIB,DISP=(OLD,PASS)
//         DD DSN=SYS1.MODGEN,DISP=SHR
//SYSUT1   DD UNIT=SYSALLDA,SPACE=(CYL,(20,10))
//SYSUT2   DD UNIT=SYSALLDA,SPACE=(CYL,(10,10))
//SYSUT3   DD UNIT=SYSALLDA,SPACE=(CYL,(10,10))
//SYSPRINT DD SYSOUT=*
//SYSLIN   DD DUMMY
//SYSGO    DD DUMMY
//SYSPUNCH DD DSN=&&OBJLIB(&MEMBER),DISP=(OLD,PASS)
//*
//         PEND
//CREATE   EXEC PGM=IEFBR14
//DD1      DD DSN=&&OBJLIB,DISP=(,PASS),
// DCB=(RECFM=FB,LRECL=80,BLKSIZE=3200),
// SPACE=(3200,(60,60,44)),UNIT=SYSALLDA
//DD2      DD DSN=&&MACLIB,DISP=(,PASS),
// DCB=(RECFM=FB,LRECL=80,BLKSIZE=6160),
// SPACE=(6160,(60,60,44)),UNIT=SYSALLDA
//DD3      DD DSN=&&LOADLIB,DISP=(,PASS),
// DCB=(RECFM=U,LRECL=0,BLKSIZE=6144),
// SPACE=(6144,(600,600,44)),UNIT=SYSALLDA
//*
//PDPTOP   EXEC PGM=IEBGENER
//SYSUT2   DD  DSN=&&MACLIB(PDPTOP),DISP=(OLD,PASS)
//SYSUT1   DD  *
undivert(pdptop.mac)dnl
/*
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  DUMMY
//*
//PDPMAIN  EXEC PGM=IEBGENER
//SYSUT2   DD  DSN=&&MACLIB(PDPMAIN),DISP=(OLD,PASS)
//SYSUT1   DD  *
undivert(pdpmain.mac)dnl
/*
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  DUMMY
//*
//PDPPRLG  EXEC PGM=IEBGENER
//SYSUT2   DD  DSN=&&MACLIB(PDPPRLG),DISP=(OLD,PASS)
//SYSUT1   DD  *
undivert(pdpprlg.mac)dnl
/*
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  DUMMY
//*
//PDPEPIL  EXEC PGM=IEBGENER
//SYSUT2   DD  DSN=&&MACLIB(PDPEPIL),DISP=(OLD,PASS)
//SYSUT1   DD  *
undivert(pdpepil.mac)dnl
/*
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  DUMMY
//*
//MVSSTART EXEC PDPASM,MEMBER=MVSSTART
//SYSIN  DD  *
undivert(mvsstart.asm)dnl
/*
//MVSSUPA  EXEC PDPASM,MEMBER=MVSSUPA
//SYSIN  DD  *
undivert(mvssupa.asm)dnl
/*
//START    EXEC PDPASM,MEMBER=START
//SYSIN  DD *
undivert(start.s)dnl
/*
//STDIO    EXEC PDPASM,MEMBER=STDIO
//SYSIN  DD *
undivert(stdio.s)dnl
/*
//STDLIB   EXEC PDPASM,MEMBER=STDLIB
//SYSIN  DD  *
undivert(stdlib.s)dnl
/*
//CTYPE    EXEC PDPASM,MEMBER=CTYPE
//SYSIN  DD  *
undivert(ctype.s)dnl
/*
//STRING   EXEC PDPASM,MEMBER=STRING
//SYSIN  DD  *
undivert(string.s)dnl
/*
//TIME     EXEC PDPASM,MEMBER=TIME
//SYSIN  DD  *
undivert(time.s)dnl
/*
//ERRNO    EXEC PDPASM,MEMBER=ERRNO
//SYSIN  DD  *
undivert(errno.s)dnl
/*
//ASSERT   EXEC PDPASM,MEMBER=ASSERT
//SYSIN  DD  *
undivert(assert.s)dnl
/*
//LOCALE   EXEC PDPASM,MEMBER=LOCALE
//SYSIN  DD  *
undivert(locale.s)dnl
/*
//MATH     EXEC PDPASM,MEMBER=MATH
//SYSIN  DD  *
undivert(math.s)dnl
/*
//SETJMP   EXEC PDPASM,MEMBER=SETJMP
//SYSIN  DD  *
undivert(setjmp.s)dnl
/*
//SIGNAL   EXEC PDPASM,MEMBER=SIGNAL
//SYSIN  DD  *
undivert(signal.s)dnl
/*
//@@MEMMGR EXEC PDPASM,MEMBER=@@MEMMGR
//SYSIN  DD  *
undivert(__memmgr.s)dnl
/*
//*
//* The above are the required C Runtime Library.
//* Now we start compiling our utilities
//*
//* mvsunzip (compile)
//*
//MVSUNZIP EXEC PDPASM,MEMBER=MVSUNZIP
//SYSIN  DD  *
undivert(mvsunzip.s)dnl
/*
/*
//*
//* mvsunzip (link)
//*
//LKED     EXEC PGM=IEWL,PARM='MAP,LIST'
//SYSLIN   DD DDNAME=SYSIN
//OBJLIB   DD DSN=&&OBJLIB,DISP=(OLD,PASS)
//SYSLMOD  DD DSN=&&LOADLIB(MVSUNZIP),DISP=(OLD,PASS)
//SYSUT1   DD UNIT=SYSALLDA,SPACE=(CYL,(2,1))
//SYSPRINT DD SYSOUT=*
//SYSIN DD *
 INCLUDE OBJLIB(MVSSTART)
 INCLUDE OBJLIB(START)
 INCLUDE OBJLIB(MVSSUPA)
 INCLUDE OBJLIB(STDIO)
 INCLUDE OBJLIB(STDLIB)
 INCLUDE OBJLIB(CTYPE)
 INCLUDE OBJLIB(STRING)
 INCLUDE OBJLIB(TIME)
 INCLUDE OBJLIB(ERRNO)
 INCLUDE OBJLIB(ASSERT)
 INCLUDE OBJLIB(LOCALE)
 INCLUDE OBJLIB(MATH)
 INCLUDE OBJLIB(SETJMP)
 INCLUDE OBJLIB(SIGNAL)
 INCLUDE OBJLIB(MVSUNZIP)
/*
//*
//* mvsendec (compile)
//*
//MVSENDEC EXEC PDPASM,MEMBER=MVSENDEC
//SYSIN  DD  *
undivert(mvsendec.s)dnl
/*
//*
//* mvsendec (link)
//*
//LKED     EXEC PGM=IEWL,PARM='MAP,LIST'
//SYSLIN   DD DDNAME=SYSIN
//OBJLIB   DD DSN=&&OBJLIB,DISP=(OLD,PASS)
//SYSLMOD  DD DSN=&&LOADLIB(MVSENDEC),DISP=(OLD,PASS)
//SYSUT1   DD UNIT=SYSALLDA,SPACE=(CYL,(2,1))
//SYSPRINT DD SYSOUT=*
//SYSIN DD *
 INCLUDE OBJLIB(MVSSTART)
 INCLUDE OBJLIB(START)
 INCLUDE OBJLIB(MVSSUPA)
 INCLUDE OBJLIB(STDIO)
 INCLUDE OBJLIB(STDLIB)
 INCLUDE OBJLIB(CTYPE)
 INCLUDE OBJLIB(STRING)
 INCLUDE OBJLIB(TIME)
 INCLUDE OBJLIB(ERRNO)
 INCLUDE OBJLIB(ASSERT)
 INCLUDE OBJLIB(LOCALE)
 INCLUDE OBJLIB(MATH)
 INCLUDE OBJLIB(SETJMP)
 INCLUDE OBJLIB(SIGNAL)
 INCLUDE OBJLIB(MVSENDEC)
/*
//*
//* hexdump (compile)
//*
//HEXDUMP  EXEC PDPASM,MEMBER=HEXDUMP
//SYSIN  DD  *
undivert(hexdump.s)dnl
/*
//*
//* hexdump (link)
//*
//LKED     EXEC PGM=IEWL,PARM='MAP,LIST'
//SYSLIN   DD DDNAME=SYSIN
//OBJLIB   DD DSN=&&OBJLIB,DISP=(OLD,PASS)
//SYSLMOD  DD DSN=&&LOADLIB(HEXDUMP),DISP=(OLD,PASS)
//SYSUT1   DD UNIT=SYSALLDA,SPACE=(CYL,(2,1))
//SYSPRINT DD SYSOUT=*
//SYSIN DD *
 INCLUDE OBJLIB(MVSSTART)
 INCLUDE OBJLIB(START)
 INCLUDE OBJLIB(MVSSUPA)
 INCLUDE OBJLIB(STDIO)
 INCLUDE OBJLIB(STDLIB)
 INCLUDE OBJLIB(CTYPE)
 INCLUDE OBJLIB(STRING)
 INCLUDE OBJLIB(TIME)
 INCLUDE OBJLIB(ERRNO)
 INCLUDE OBJLIB(ASSERT)
 INCLUDE OBJLIB(LOCALE)
 INCLUDE OBJLIB(MATH)
 INCLUDE OBJLIB(SETJMP)
 INCLUDE OBJLIB(SIGNAL)
 INCLUDE OBJLIB(HEXDUMP)
/*
//*
//* dssrenam (compile)
//*
//DSSRENAM EXEC PDPASM,MEMBER=DSSRENAM
//SYSIN  DD  *
undivert(dssrenam.s)dnl
/*
//*
//* dssrenam (link)
//*
//LKED     EXEC PGM=IEWL,PARM='MAP,LIST'
//SYSLIN   DD DDNAME=SYSIN
//OBJLIB   DD DSN=&&OBJLIB,DISP=(OLD,PASS)
//SYSLMOD  DD DSN=&&LOADLIB(DSSRENAM),DISP=(OLD,PASS)
//SYSUT1   DD UNIT=SYSALLDA,SPACE=(CYL,(2,1))
//SYSPRINT DD SYSOUT=*
//SYSIN DD *
 INCLUDE OBJLIB(MVSSTART)
 INCLUDE OBJLIB(START)
 INCLUDE OBJLIB(MVSSUPA)
 INCLUDE OBJLIB(STDIO)
 INCLUDE OBJLIB(STDLIB)
 INCLUDE OBJLIB(CTYPE)
 INCLUDE OBJLIB(STRING)
 INCLUDE OBJLIB(TIME)
 INCLUDE OBJLIB(ERRNO)
 INCLUDE OBJLIB(ASSERT)
 INCLUDE OBJLIB(LOCALE)
 INCLUDE OBJLIB(MATH)
 INCLUDE OBJLIB(SETJMP)
 INCLUDE OBJLIB(SIGNAL)
 INCLUDE OBJLIB(DSSRENAM)
/*
//*
//* copyfile (compile)
//*
//COPYFILE EXEC PDPASM,MEMBER=COPYFILE
//SYSIN  DD  *
undivert(copyfile.s)dnl
/*
//*
//* copyfile (link)
//*
//LKED     EXEC PGM=IEWL,PARM='MAP,LIST'
//SYSLIN   DD DDNAME=SYSIN
//OBJLIB   DD DSN=&&OBJLIB,DISP=(OLD,PASS)
//SYSLMOD  DD DSN=&&LOADLIB(COPYFILE),DISP=(OLD,PASS)
//SYSUT1   DD UNIT=SYSALLDA,SPACE=(CYL,(2,1))
//SYSPRINT DD SYSOUT=*
//SYSIN DD *
 INCLUDE OBJLIB(MVSSTART)
 INCLUDE OBJLIB(START)
 INCLUDE OBJLIB(MVSSUPA)
 INCLUDE OBJLIB(STDIO)
 INCLUDE OBJLIB(STDLIB)
 INCLUDE OBJLIB(CTYPE)
 INCLUDE OBJLIB(STRING)
 INCLUDE OBJLIB(TIME)
 INCLUDE OBJLIB(ERRNO)
 INCLUDE OBJLIB(ASSERT)
 INCLUDE OBJLIB(LOCALE)
 INCLUDE OBJLIB(MATH)
 INCLUDE OBJLIB(SETJMP)
 INCLUDE OBJLIB(SIGNAL)
 INCLUDE OBJLIB(COPYFILE)
/*
//*
//* miniunz and minizip (compile)
//*
//MINIUNZ  EXEC PDPASM,MEMBER=MINIUNZ
//SYSIN  DD  *
undivert(miniunz.s)dnl
/*
//UNZIP    EXEC PDPASM,MEMBER=UNZIP
//SYSIN  DD  *
undivert(unzip.s)dnl
/*
//UNSHRINK EXEC PDPASM,MEMBER=UNSHRINK
//SYSIN  DD  *
undivert(unshrink.s)dnl
/*
//EXTRA    EXEC PDPASM,MEMBER=EXTRA
//SYSIN  DD  *
undivert(extra.s)dnl
/*
//CRC32    EXEC PDPASM,MEMBER=CRC32
//SYSIN  DD  *
undivert(crc32.s)dnl
/*
//INFLATE  EXEC PDPASM,MEMBER=INFLATE
//SYSIN  DD  *
undivert(inflate.s)dnl
/*
//INFBLOCK EXEC PDPASM,MEMBER=INFBLOCK
//SYSIN  DD  *
undivert(infblock.s)dnl
/*
//INFCODES EXEC PDPASM,MEMBER=INFCODES
//SYSIN  DD  *
undivert(infcodes.s)dnl
/*
//INFTREES EXEC PDPASM,MEMBER=INFTREES
//SYSIN  DD  *
undivert(inftrees.s)dnl
/*
//INFUTIL  EXEC PDPASM,MEMBER=INFUTIL
//SYSIN  DD  *
undivert(infutil.s)dnl
/*
//INFFAST  EXEC PDPASM,MEMBER=INFFAST
//SYSIN  DD  *
undivert(inffast.s)dnl
/*
//ZUTIL    EXEC PDPASM,MEMBER=ZUTIL
//SYSIN  DD  *
undivert(zutil.s)dnl
/*
//ADLER32  EXEC PDPASM,MEMBER=ADLER32
//SYSIN  DD  *
undivert(adler32.s)dnl
/*
//MINIZIP  EXEC PDPASM,MEMBER=MINIZIP
//SYSIN  DD  *
undivert(minizip.s)dnl
/*
//ZIP      EXEC PDPASM,MEMBER=ZIP
//SYSIN  DD  *
undivert(zip.s)dnl
/*
//DEFLATE  EXEC PDPASM,MEMBER=DEFLATE
//SYSIN  DD  *
undivert(deflate.s)dnl
/*
//TREES    EXEC PDPASM,MEMBER=TREES
//SYSIN  DD  *
undivert(trees.s)dnl
/*
//*
//* miniunz (link)
//*
//LKED     EXEC PGM=IEWL,PARM='MAP,LIST'
//SYSLIN   DD DDNAME=SYSIN
//OBJLIB   DD DSN=&&OBJLIB,DISP=(OLD,PASS)
//SYSLMOD  DD DSN=&&LOADLIB(MINIUNZ),DISP=(OLD,PASS)
//SYSUT1   DD UNIT=SYSALLDA,SPACE=(CYL,(2,1))
//SYSPRINT DD SYSOUT=*
//SYSIN DD *
 INCLUDE OBJLIB(MVSSTART)
 INCLUDE OBJLIB(START)
 INCLUDE OBJLIB(MVSSUPA)
 INCLUDE OBJLIB(STDIO)
 INCLUDE OBJLIB(STDLIB)
 INCLUDE OBJLIB(CTYPE)
 INCLUDE OBJLIB(STRING)
 INCLUDE OBJLIB(TIME)
 INCLUDE OBJLIB(ERRNO)
 INCLUDE OBJLIB(ASSERT)
 INCLUDE OBJLIB(LOCALE)
 INCLUDE OBJLIB(MATH)
 INCLUDE OBJLIB(SETJMP)
 INCLUDE OBJLIB(SIGNAL)
 INCLUDE OBJLIB(MINIUNZ)
 INCLUDE OBJLIB(UNZIP)
 INCLUDE OBJLIB(UNSHRINK)
 INCLUDE OBJLIB(EXTRA)
 INCLUDE OBJLIB(CRC32)
 INCLUDE OBJLIB(INFLATE)
 INCLUDE OBJLIB(INFBLOCK)
 INCLUDE OBJLIB(INFCODES)
 INCLUDE OBJLIB(INFTREES)
 INCLUDE OBJLIB(INFUTIL)
 INCLUDE OBJLIB(INFFAST)
 INCLUDE OBJLIB(ZUTIL)
 INCLUDE OBJLIB(ADLER32)
/*
//*
//* minizip (link)
//*
//LKED     EXEC PGM=IEWL,PARM='MAP,LIST'
//SYSLIN   DD DDNAME=SYSIN
//OBJLIB   DD DSN=&&OBJLIB,DISP=(OLD,PASS)
//SYSLMOD  DD DSN=&&LOADLIB(MINIZIP),DISP=(OLD,PASS)
//SYSUT1   DD UNIT=SYSALLDA,SPACE=(CYL,(2,1))
//SYSPRINT DD SYSOUT=*
//SYSIN DD *
 INCLUDE OBJLIB(MVSSTART)
 INCLUDE OBJLIB(START)
 INCLUDE OBJLIB(MVSSUPA)
 INCLUDE OBJLIB(STDIO)
 INCLUDE OBJLIB(STDLIB)
 INCLUDE OBJLIB(CTYPE)
 INCLUDE OBJLIB(STRING)
 INCLUDE OBJLIB(TIME)
 INCLUDE OBJLIB(ERRNO)
 INCLUDE OBJLIB(ASSERT)
 INCLUDE OBJLIB(LOCALE)
 INCLUDE OBJLIB(MATH)
 INCLUDE OBJLIB(SETJMP)
 INCLUDE OBJLIB(SIGNAL)
 INCLUDE OBJLIB(MINIZIP)
 INCLUDE OBJLIB(ZIP)
 INCLUDE OBJLIB(DEFLATE)
 INCLUDE OBJLIB(CRC32)
 INCLUDE OBJLIB(ADLER32)
 INCLUDE OBJLIB(TREES)
 INCLUDE OBJLIB(ZUTIL)
/*
//*
//* Here are some examples of how you can run some of the
//* utilities
//*
//HEXDUMP  EXEC PGM=HEXDUMP,PARM='dd:input'
//STEPLIB  DD DSN=&&LOADLIB,DISP=(OLD,PASS)
//INPUT    DD DSN=&&MACLIB(PDPEPIL),DISP=(OLD,PASS)
//SYSIN    DD DUMMY
//SYSPRINT DD SYSOUT=*
//SYSTERM  DD SYSOUT=*
//*
//MINI     EXEC PGM=MINIZIP,PARM='-a -x .h -l -o dd:output dd:input'
//STEPLIB  DD DSN=&&LOADLIB,DISP=(OLD,PASS)
//INPUT    DD DSN=&&MACLIB,DISP=(OLD,PASS)
//OUTPUT   DD DSN=&&TEMP,DISP=(,PASS),UNIT=SYSALLDA,
//         SPACE=(CYL,(20,20)),DCB=(RECFM=FB,LRECL=80,BLKSIZE=3120)
//SYSIN    DD DUMMY
//SYSPRINT DD SYSOUT=*
//SYSTERM  DD SYSOUT=*
//SYSUT1   DD DSN=&&TEMP2,DISP=(,DELETE),UNIT=SYSALLDA,
//         SPACE=(CYL,(20,20)),DCB=(RECFM=FB,LRECL=80,BLKSIZE=3120)
//*
//MINIUNZ  EXEC PGM=MINIUNZ,PARM='-v dd:input'
//STEPLIB  DD DSN=&&LOADLIB,DISP=(OLD,PASS)
//INPUT    DD DSN=&&TEMP,DISP=(OLD,PASS)
//SYSIN    DD DUMMY
//SYSPRINT DD SYSOUT=*
//SYSTERM  DD SYSOUT=*
//*
//MVSENDEC EXEC PGM=MVSENDEC,PARM='encb dd:input dd:output'
//STEPLIB  DD DSN=&&LOADLIB,DISP=(OLD,PASS)
//INPUT    DD DSN=&&TEMP,DISP=(OLD,PASS)
//OUTPUT   DD SYSOUT=*,DCB=(RECFM=FB,LRECL=80,BLKSIZE=3120)
//SYSIN    DD DUMMY
//SYSPRINT DD SYSOUT=*
//SYSTERM  DD SYSOUT=*
//*
//*
//* And here's an example of copying them into a pre-existing
//* library.
//*
//COPY     EXEC PGM=IEBCOPY
//SYSUT1   DD DSN=&&LOADLIB,DISP=(OLD,PASS)
//SYSUT2   DD DSN=SYS2.LINKLIB,DISP=SHR
//SYSIN    DD *
 COPY INDD=((SYSUT1,R)),OUTDD=SYSUT2
/*
//SYSPRINT DD SYSOUT=*
//*
//
